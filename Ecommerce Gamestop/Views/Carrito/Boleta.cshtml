@model Ecommerce_Gamestop.Models.BoletaViewModel

@{
    ViewData["Title"] = "Boleta";
}

<div style="width:700px; margin:auto; font-family:Arial, sans-serif; border:1px solid #ccc; padding:20px;">

    <!-- Encabezado -->
    <div style="text-align:center; margin-bottom:20px;">
        <h2 style="margin:0;">BOLETA DE VENTA - GAMESTOP PERU</h2>
        <p style="margin:0; font-size:12px; color:#777;">GameStop Peru - Tu tienda gamer de confianza</p>
        <hr />
    </div>

    <!-- Información del cliente y pedido -->
    <table style="width:100%; font-size:14px; margin-bottom:20px;">
        <tr>
            <td><strong>Cliente:</strong> @Model.NombreUsuario</td>
            <td><strong>Codigo Pedido:</strong> @Model.CodigoPedido</td>
        </tr>
        <tr>
            <td><strong>Fecha de emision:</strong> @Model.FechaEmision.ToString("dd/MM/yyyy HH:mm")</td>
        </tr>
    </table>

    <!-- Detalle de productos -->
    <table style="width:100%; border-collapse:collapse; font-size:14px; margin-bottom:20px;">
        <thead>
            <tr style="background:#f2f2f2; text-align:center;">
                <th style="border:1px solid #ccc; padding:8px;">Producto</th>
                <th style="border:1px solid #ccc; padding:8px;">Precio</th>
                <th style="border:1px solid #ccc; padding:8px;">Cantidad</th>
                <th style="border:1px solid #ccc; padding:8px;">Subtotal</th>
                <th style="border:1px solid #ccc; padding:8px;">Recoger en</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Productos)
            {
                <tr>
                    <td style="border:1px solid #ccc; padding:8px;">@item.Producto</td>
                    <td style="border:1px solid #ccc; padding:8px; text-align:right;">@item.Precio.ToString("C")</td>
                    <td style="border:1px solid #ccc; padding:8px; text-align:center;">@item.Cantidad</td>
                    <td style="border:1px solid #ccc; padding:8px; text-align:right;">@item.Subtotal.ToString("C")</td>
                    <td style="border:1px solid #ccc; padding:8px;">
                        @if (item.TipoProducto == "Digital")
                        {
                            <span>Codigo: @item.CodigoDigital</span>
                        }
                        else if (item.TipoProducto == "Fisico")
                        {
                            <ul style="margin:0; padding-left:15px;">
                                @foreach (var dir in item.DireccionesLocales)
                                {
                                    <li>@dir</li>
                                }
                            </ul>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <!-- Total -->
    <div style="text-align:right; margin-bottom:40px;">
        <h3 style="margin:0;">Total: @Model.Total.ToString("C")</h3>
    </div>

    <!--pie con logo-->
    <div style="text-align:center; margin-top:20px;">
        <img src="~/img/gamestop-icon.png" alt="Imagen no Encontrada" style="max-width:200px;" />
        <p style="font-size:12px; color:#555;">Gracias por tu compra, lo esperamos pronto - GameStop Peru</p>
    </div>

    <!--volver a inicio-->
    <div style="text-align:center; margin-top:30px;">
        <a href="@Url.Action("Index", "Home")"
           style="display:inline-block; padding:10px 20px; background:#5e2129; color:white; text-decoration:none; border-radius:5px;">
            Volver a inicio
        </a>
    </div>
</div>